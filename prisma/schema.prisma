generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model member {
  id    String @id(map: "member_pk")
  xp    Float  @default(0) @db.Real
  level Int    @default(0)
  coins Float  @default(0) @db.Real
}

model money {
  member String
  id     Int      @id(map: "money_pk") @default(autoincrement())
  date   DateTime @default(now()) @db.Timestamptz(6)
  value  Float    @db.Real
  type   String
  season Int      @default(6) @db.SmallInt
}

model mute {
  id      String   @id(map: "sqlite_autoindex_mutes_1")
  endDate DateTime @map("end_date") @db.Timestamptz(6)

  @@map("mutes")
}

model guild {
  id                    String  @id
  successReaction       String  @default("✅") @map("success_reaction")
  failureReaction       String  @default("❎") @map("failure_reaction")
  prefix                String  @default("!")
  currency              String  @default("<:ShibaCoin:599360155301314560>")
  questionReaction      String  @default("❔") @map("question_reaction")
  ordersChannel         String  @default("599355572600700928") @map("orders_channel")
  acceptedOrdersChannel String  @default("672026710098837525") @map("accepted_orders_channel")
  deniedOrdersChannel   String  @default("672026801362567178") @map("denied_orders_channel")
  devPrefix             String  @default("?") @map("dev_prefix")
  nitroBoosterRole      String? @map("nitro_booster_role")
  vipRole               String? @map("vip_role")
  chestsChannel         String  @default("934894818050576384") @map("chests_channel")
  commandsChannel       String  @default("465225835042045953") @map("commands_channel")
  activeAuctionChannel  String  @default("936402510946648174") @map("active_auction_channel")
  soldAuctionChannel    String  @default("936402538679402546") @map("sold_auction_channel")
  logsChannel           String  @default("674385697549058090") @map("logs_channel")
  muteRole              String  @default("584713555320766464") @map("mute_role")
  errorsChannel         String  @default("937449246330851378") @map("errors_channel")

  @@map("settings")
}

model shop {
  name         String
  description  String
  id           String  @id(map: "shop_pk")
  price        Int     @default(0)
  comment      String?
  needsDetails Int     @default(0) @map("needs_details")
  available    Boolean @default(false)
}

model stats {
  id    String @id(map: "sqlite_autoindex_stats_1")
  warns Int?   @default(0)
  mutes Int?   @default(0)
  bans  Int?   @default(0)
}

model warn {
  reason   String?
  memberId String   @map("member_id")
  modId    String   @map("mod_id")
  points   Decimal  @default(50) @db.Decimal
  date     DateTime @default(now()) @db.Timestamptz(6)
  id       Int      @id @default(autoincrement())

  @@map("warn2")
}

model item {
  id      Int      @id(map: "item_pk") @default(autoincrement())
  owner   String
  item    String
  active  Boolean  @default(true)
  info    itemInfo @relation(fields: [item], references: [item], onDelete: NoAction, onUpdate: NoAction, map: "item_item_info_item_fk")
  auction auction?
}

model itemInfo {
  item         String      @id(map: "item_info_pk")
  name         String
  description  String
  manualUsage  Boolean     @default(true) @map("manual_usage")
  needsDetails Boolean     @default(false) @map("needs_details")
  chestDrops   chestDrop[] @relation("chest_dropToitem_info")
  items        item[]
  level_drop   levelDrop[] @relation("item_infoTolevel_drop")

  @@map("item_info")
}

model chestDrop {
  id       Int      @id(map: "chest_drop_pk") @default(autoincrement())
  item     String
  rate     Int      @default(0)
  chest    String
  itemInfo itemInfo @relation("chest_dropToitem_info", fields: [item], references: [item], onDelete: NoAction, map: "chest_drop_item_info_item_fk")

  @@map("chest_drop")
}

model levelDrop {
  id        Int       @id(map: "level_drop_pk") @default(autoincrement())
  itemId    String?   @map("item")
  level     Int
  vip       Boolean   @default(false)
  coins     Float?    @db.Real
  role      String?
  itemCount Int?      @map("item_count")
  item      itemInfo? @relation("item_infoTolevel_drop", fields: [itemId], references: [item], onDelete: NoAction, onUpdate: NoAction, map: "level_drop_item_info_item_fk")

  @@map("level_drop")
}

model vip {
  member String   @id(map: "vip_pk")
  expiry DateTime @db.Timestamptz(6)
}

model xpBlock {
  member String   @id(map: "xp_block_pk")
  expiry DateTime @db.Timestamptz(6)

  @@map("xp_block")
}

model auction {
  id        Int    @id(map: "offer_pk") @default(autoincrement())
  itemId    Int    @unique(map: "offer_item_uindex") @map("item")
  price     Float  @db.Real
  messageId String @map("message_id")
  item      item   @relation(fields: [itemId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offer_item_id_fk")
}
